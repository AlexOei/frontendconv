(this.webpackJsonpfrontendconv=this.webpackJsonpfrontendconv||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"appleAuth":"eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkZHSElKNjc4OTAifQ.eyJpYXQiOjE2MjY4MjU1MjIsImV4cCI6MTY0MjM3NzUyMiwiaXNzIjoiQUJDREUxMjM0NSJ9.LJcewTBNtyac8Rz8VbzNji7I_7rLzt1O7VHhkyl8Ges9zxTbpNSLmTt8lHiRLqEyjqDJ83aSfxlLH1rEyzt5ug"}')},31:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=(n(31),n(6)),s=n(7),l=n(9),p=n(8),u=n(10),d=n.n(u),j=n(13),h=n(12),b=n(26),y=(n(36),n(16)),f=n(1),O=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={login:null},e.handleClickApple=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.MusicKit.configure({developerToken:y.appleAuth,app:{name:"My Cool Web App"},declarativeMarkup:!0}).authorize().then((function(t){e.setState({login:"Logged In!"});var n=t;e.props.addToken(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleClickSpotify=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://playlist-conv-server.herokuapp.com/authorize",{method:"GET"});case 2:return n=e.sent,e.next=5,n.text();case 5:a=e.sent,window.location=a;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"container-login",children:Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)("br",{}),Object(f.jsx)(b.a,{variant:"dark",onClick:this.handleClickSpotify,className:"spotify",children:" Login to Spotify"}),Object(f.jsx)(b.a,{variant:"dark",className:"applemusic",onClick:this.handleClickApple,children:" Login to Apple Music"}),Object(f.jsx)("p",{children:this.state.login})]})})}}]),n}(a.Component),v=Object(h.b)(null,(function(e){return{addToken:function(t){e({type:"ADD_APPLETOKEN",payload:t})}}}))(O),x=n(44),k=n(41),m=n(42),S=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSelect=function(t){var n=t.convert,a=document.URL;a=a.substring(5).split("&")[0].split("=")[1],e.props.addSpotifyToken(a),e.props.addSource(n);var r=Math.floor(1e5*Math.random());"appleToSpotify"==n?e.props.addIDA2S(r):"spotifyToApple"==n&&e.props.addID(r),window.MusicKit.configure({developerToken:y.appleAuth,app:{name:"Playlist Converter"},declarativeMarkup:!0}).authorize().then((function(t){console.log(t);var n=t;e.props.addAppleToken(n)}))},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)(x.a,{children:Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)(x.a.Label,{className:"title",children:"Choose Source and Destination"}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"radio-container",children:Object(f.jsxs)(k.a,{toggle:!0,className:"mb-2",children:[Object(f.jsx)(m.a,{type:"checkbox",variant:"dark",onClick:this.handleSelect("appleToSpotify"),children:"Apple Music to Spotify"}),Object(f.jsx)(m.a,{type:"checkbox",variant:"dark",onClick:this.handleSelect("spotifyToApple"),children:"Spotify to Apple Music"})]})})]})})}}]),n}(a.Component),A=Object(h.b)(null,(function(e){return{addSource:function(t){e({type:"ADD_SOURCE",payload:t})},addID:function(t){e({type:"ADD_ID",payload:t})},addIDA2S:function(t){e({type:"ADD_IDA2S",payload:t})},addSpotifyToken:function(t){e({type:"ADD_SPOTIFYTOKEN",payload:t})},addAppleToken:function(t){e({type:"ADD_APPLETOKEN",payload:t})}}}))(S),g=n(17),T=n(43),C=n(24),N=(n(39),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={url:" ",playName:null,link:null,done:null,valid:null},e.handleChange=function(t){e.setState(Object(g.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n,a,r,c,o,i,s=e.props.appleToken,l=e.props.idA2S,p=e.props.spotifyToken,u=e.state.playName,h=e.state.url,b=e.props.id,y=e.props.source;if("spotifyToApple"!==y&&"appleToSpotify"!==y&&e.setState({valid:"Please choose a source."})," "===h)return e.setState({done:"Invalid ID"}),!1;e.setState({done:"Converting...",link:" ",valid:null});var f=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({url:n,authToken:o,id:a})});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(j.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(c,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({createplaylist:u,authToken:i,id:a})});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,console.log(r),e.setState({done:r.done,link:r.link});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,console.log(t.done),"done"===t.done&&O();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"appleToSpotify"===y&&(h.includes("us/playlist")?n=(n=h.split("playlist/")[1]).split("/")[1]:h.includes("/playlist")?n=h.split("playlist/")[1]:h.includes("p.")||h.includes("pl.u")?n=h:e.setState({done:"Invalid URL",valid:null}),r="https://playlist-converter-server.herokuapp.com/getAppleISRC",c="https://playlist-converter-server.herokuapp.com/createSpotifyPlaylist",o={appleToken:s},i={spotifyToken:p},a={idA2S:l},v()),"spotifyToApple"===y&&(h.includes("https://open")?n=(n=h.split("?")[0]).split("playlist/")[1]:h.includes("open.spotify")?n=h.split("playlist/")[1]:22===h.length?n=h:e.setState({done:"Invalid URL"}),r="https://playlist-converter-server.herokuapp.com/getSpotifyISRC",c="https://playlist-converter-server.herokuapp.com/createApplePlaylist",o={spotifyToken:p},i={appleToken:s},a={id:b},v())},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)(x.a,{children:Object(f.jsx)(x.a.Group,{children:Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)(T.a,{className:"justify-content-md-center",children:Object(f.jsx)(C.a,{xs:5,children:Object(f.jsx)(x.a.Control,{size:"med",type:"text",placeholder:"Enter Playlist URL",onChange:this.handleChange,id:"url"})})}),Object(f.jsx)("br",{}),Object(f.jsx)(T.a,{className:"justify-content-md-center",children:Object(f.jsx)(C.a,{xs:3,children:Object(f.jsx)(x.a.Control,{size:"med",type:"text",placeholder:"Enter Name of New Playlist",onChange:this.handleChange,id:"playName"})})}),Object(f.jsx)("br",{}),Object(f.jsx)(b.a,{variant:"dark",type:"submit",onClick:this.handleSubmit,className:"convert",children:"Convert!"}),Object(f.jsx)("h1",{children:this.state.done}),Object(f.jsx)("a",{href:this.state.link,children:this.state.link}),Object(f.jsx)("h1",{children:this.state.valid}),Object(f.jsx)("p",{children:"Convert your favorite playlists to and from Apple Music and Spotify!"}),Object(f.jsx)("p",{children:"Your playlist link will appear below the convert button when completed."}),Object(f.jsx)("p",{children:" Note: Due to Spotify's song limit per request, conversion caps at 100 songs"}),Object(f.jsx)("p",{children:" Note: Spotify exclusives such as Spotify singles cannot be converted"}),Object(f.jsx)("p",{children:" Note: If you are already logged into Apple Music on your browser, a popup to login to Apple Music may not appear"})]})})})}}]),n}(a.Component)),D=Object(h.b)((function(e){return{appleToken:e.appleToken,id:e.id,spotifyToken:e.spotifyToken,idA2S:e.idA2S,source:e.source}}))(N),I=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"text-center",children:Object(f.jsx)("div",{className:"header",children:Object(f.jsx)("h1",{children:"Playlist Converter"})})})}}]),n}(a.Component),w=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)("footer",{children:Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("a",{href:"mailto: alexoei13589@gmail.com",children:"Contact "}),Object(f.jsx)("a",{href:"https://github.com/AlexOei/playlist-converter-server",children:" Github"})]})})}}]),n}(a.Component),M=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Quicksand:wght@700&display=swap",rel:"stylesheet"}),Object(f.jsx)("script",{src:"https://js-cdn.music.apple.com/musickit/v1/musickit.js"}),Object(f.jsx)(I,{}),Object(f.jsx)(v,{}),Object(f.jsxs)("div",{class:"container-convert",children:[Object(f.jsx)(A,{}),Object(f.jsx)(D,{}),Object(f.jsx)(w,{})]})]})}}]),n}(a.Component),E=n(25),P=n(11),L={appleToken:[],spotifyToken:[],id:[],idA2S:[],source:[]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return"ADD_APPLETOKEN"===t.type?Object(P.a)(Object(P.a)({},e),{},{appleToken:t.payload}):"ADD_SPOTIFYTOKEN"===t.type?Object(P.a)(Object(P.a)({},e),{},{spotifyToken:t.payload}):"ADD_ID"===t.type?Object(P.a)(Object(P.a)({},e),{},{id:t.payload}):"ADD_IDA2S"===t.type?Object(P.a)(Object(P.a)({},e),{},{idA2S:t.payload}):"ADD_SOURCE"===t.type?Object(P.a)(Object(P.a)({},e),{},{source:t.payload}):e},J=Object(E.a)(z);J.subscribe((function(){console.log(J.getState())})),o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(h.a,{store:J,children:Object(f.jsx)(M,{})})}),document.getElementById("root"));t.default=J}},[[40,1,2]]]);
//# sourceMappingURL=main.b4661044.chunk.js.map